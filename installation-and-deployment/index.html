<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Installation and Deployment - Aurelius Enterprise Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../stylesheets/tabs.css" rel="stylesheet" />
        <link href="../stylesheets/icons.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Installation and Deployment";
        var mkdocs_page_input_path = "installation-and-deployment.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../img/logo.png" class="logo" alt="Logo"/>
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Getting Started</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../benefits-and-features/">Benefits and Features</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../user-stories/">User Stories</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Installation and Deployment</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#infrastructure-requirements">Infrastructure Requirements</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#first-time-installation">First Time Installation</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#configuration-manager">Configuration Manager</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#certificate-manager-and-issuer">Certificate Manager and Issuer</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#set-up-certificate-manager">Set Up Certificate Manager</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#set-up-issuer">Set Up Issuer</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ingress-controller">Ingress Controller</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#set-up-ingress-controller">Set Up Ingress Controller</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#set-up-certificate">Set Up Certificate</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#set-up-dns">Set up DNS</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#elastic-cloud">Elastic Cloud</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#zookeeper">Zookeeper</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#deploying-aurelius-atlas">Deploying Aurelius Atlas</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#configure-values">Configure Values</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#deploy-helm-chart">Deploy Helm Chart</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#accessing-aurelius-atlas">Accessing Aurelius Atlas</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#default-credentials">Default Credentials</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#identity-access-management">Identity &amp; Access Management</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#integrating-azure-active-directory-with-keycloak">Integrating Azure Active Directory with Keycloak</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#managing-users">Managing Users</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#user-access">User Access</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#managing-roles-in-keycloak-ui">Managing Roles in Keycloak UI</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#user-roles-and-permissions">User Roles and Permissions</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../architecture/">Architecture</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../integrations/">Integrations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../faq/">Frequently Asked Questions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../support/">Support</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../about-us/">About Us</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Aurelius Enterprise Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Installation and Deployment</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="installation-and-deployment">Installation and Deployment</h1>
<p>Aurelius Atlas is distributed as a Helm chart. This allows for easy installation and deployment on
any cloud provider or on-premises Kubernetes cluster.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For users who want to try out Aurelius Atlas without setting up a Kubernetes cluster, a Docker Compose file
is also provided.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Do not use the Docker Compose distribution for production deployments.</p>
</div>
<p>All distributions of Aurelius Atlas are available on GitHub:</p>
<div class="wy-btn-group">
    <a class="btn btn-success" href="https://github.com/aureliusenterprise/Aurelius-Atlas-helm-chart">
        Get the Helm chart
    </a>
    <a class="btn btn-info" href="https://github.com/aureliusenterprise/Aurelius-Atlas-docker-compose">
        Get the Docker Compose
    </a>
</div>

<h2 id="infrastructure-requirements">Infrastructure Requirements</h2>
<p>The following are the minimal infrastructure requirements for deploying Aurelius Atlas:</p>
<div class="tabbed-set" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Kubernetes Cluster</label><div class="tabbed-content">
<p>For an on-premises Kubernetes cluster, the system requirements are:</p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node Count</td>
<td>2</td>
</tr>
<tr>
<td>CPU Cores</td>
<td>4</td>
</tr>
<tr>
<td>RAM</td>
<td>16 GB</td>
</tr>
<tr>
<td>Disk Space</td>
<td>100 GB</td>
</tr>
</tbody>
</table>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">Azure</label><div class="tabbed-content">
<p>For Azure, the recommended system requirements are:</p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node Count</td>
<td>2</td>
</tr>
<tr>
<td>CPU Cores</td>
<td>4</td>
</tr>
<tr>
<td>RAM</td>
<td>16 GB</td>
</tr>
<tr>
<td>Disk Space</td>
<td>100 GB</td>
</tr>
</tbody>
</table>
</div>
<input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><label for="__tabbed_1_3">Google Cloud</label><div class="tabbed-content">
<p>For Google Cloud, the recommended system requirements are:</p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node Count</td>
<td>2</td>
</tr>
<tr>
<td>CPU Cores</td>
<td>4</td>
</tr>
<tr>
<td>RAM</td>
<td>16 GB</td>
</tr>
<tr>
<td>Disk Space</td>
<td>100 GB</td>
</tr>
</tbody>
</table>
</div>
<input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><label for="__tabbed_1_4">Docker Compose</label><div class="tabbed-content">
<p>For a local deployment, the recommended system requirements are:</p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU Cores</td>
<td>4</td>
</tr>
<tr>
<td>RAM</td>
<td>32 GB</td>
</tr>
<tr>
<td>Disk Space</td>
<td>100 GB</td>
</tr>
</tbody>
</table>
</div>
</div>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before you begin the installation process, ensure that you have the following prerequisites:</p>
<div class="tabbed-set" data-tabs="2:4"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">Kubernetes Cluster</label><div class="tabbed-content">
<p>Please ensure you have the following prerequisites for a deployment on a Kubernetes cluster:</p>
<ul>
<li><a href="https://helm.sh/docs/intro/install/">Helm</a> installed</li>
<li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a> installed</li>
</ul>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><label for="__tabbed_2_2">Azure</label><div class="tabbed-content">
<p>Please ensure you have the following prerequisites for a deployment on Azure:</p>
<ul>
<li><a href="https://helm.sh/docs/intro/install/">Helm</a> installed</li>
<li><a href="https://learn.microsoft.com/en-us/cli/azure/install-azure-cli">Azure CLI</a> installed</li>
<li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a> installed</li>
</ul>
</div>
<input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><label for="__tabbed_2_3">Google Cloud</label><div class="tabbed-content">
<p>Please ensure you have the following prerequisites for a deployment on Google Cloud:</p>
<ul>
<li><a href="https://helm.sh/docs/intro/install/">Helm</a> installed</li>
<li><a href="https://cloud.google.com/sdk/docs/install">Google Cloud SDK</a> installed</li>
<li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a> installed</li>
<li>A registered domain name for the Ingress controller</li>
</ul>
</div>
<input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><label for="__tabbed_2_4">Docker Compose</label><div class="tabbed-content">
<p>Please ensure you have the following prerequisites for a local deployment:</p>
<ul>
<li><a href="https://docs.docker.com/get-docker/">Docker</a> installed</li>
</ul>
</div>
</div>
<h2 id="first-time-installation">First Time Installation</h2>
<p>Once you have your cluster and prerequisites set up, you can install Aurelius Atlas using the Helm chart or Docker
Compose. The following sections will guide you through the process.</p>
<h3 id="configuration-manager">Configuration Manager</h3>
<p>Aurelius Atlas recommends <a href="https://github.com/emberstack/kubernetes-reflector">Reflector</a> for managing the configuration
of the Kubernetes cluster. To install Reflector, run the following commands:</p>
<pre class="highlight"><code class="language-bash">helm repo add emberstack https://emberstack.github.io/helm-charts
helm repo update
helm upgrade --install reflector emberstack/reflector</code></pre>
<h3 id="certificate-manager-and-issuer">Certificate Manager and Issuer</h3>
<p>To secure your deployment, Aurelius Atlas requires TLS certificates for your domain. Follow the steps below to
set up the certificate manager and issuer.</p>
<h4 id="set-up-certificate-manager">Set Up Certificate Manager</h4>
<p>First, you need to install a certificate manager to manage the TLS certificates for your domain.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If your organization already has a certificate manager set up, you can use it and skip this step. Please
note that you will need to provide your certificate manager's details in later steps.</p>
</div>
<p>Aurelius Atlas recommends using <a href="https://cert-manager.io/docs/installation/kubernetes/">cert-manager</a> for
managing TLS certificates in Kubernetes.</p>
<p>To install cert-manager, run the following commands:</p>
<pre class="highlight"><code class="language-bash">helm repo add jetstack https://charts.jetstack.io
helm repo update
helm install cert-manager jetstack/cert-manager \
    --namespace cert-manager \
    --create-namespace \
    --version v1.15 \
    --set installCRDs=true \
    --set global.leaderElection.namespace=cert-manager</code></pre>
<p>On successful installation, you should see the following output:</p>
<pre class="highlight"><code class="language-plaintext">NOTES:
cert-manager v1.15 has been deployed successfully</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please use a version of cert-manager that is compatible with your Kubernetes cluster. You can find the compatibility
matrix <a href="https://cert-manager.io/docs/releases/">here</a>.</p>
</div>
<h4 id="set-up-issuer">Set Up Issuer</h4>
<p>Next, you need to set up an issuer to issue the TLS certificates for your domain.</p>
<p>Aurelius Atlas recommends using the <code>letsencrypt-prod</code> issuer for production deployments. The helm chart includes
a default configuration for the <code>letsencrypt-prod</code> issuer. To set up the issuer with the default configuration,
follow these steps:</p>
<ol>
<li>Uncomment the content of the <code>templates/prod_issuer.yaml</code> file in the Helm chart.</li>
<li>Update <code>{{ .Values.ingress.email_address }}</code> in the <code>values.yaml</code> file with your email address.</li>
</ol>
<p>Next, run the following command to install the issuer:</p>
<pre class="highlight"><code class="language-bash">helm template -s templates/prod_issuer.yaml . | kubectl apply -f -</code></pre>
<p>This sets up the <code>letsencrypt-prod</code> issuer with the default configuration in the <code>cert-manager</code> namespace. To
verify that the issuer is set up correctly, run the following command:</p>
<pre class="highlight"><code class="language-bash">kubectl get clusterissuer -n cert-manager</code></pre>
<p>You should see the <code>letsencrypt-prod</code> issuer in the list of cluster issuers with a status of <code>Ready</code>.</p>
<pre class="highlight"><code class="language-plaintext">NAME                                       READY   AGE
letsencrypt-clusterissuer-aurelius-atlas   True    24h</code></pre>
<h3 id="ingress-controller">Ingress Controller</h3>
<p>Next, you need to set up an ingress controller to route external traffic to your services.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If your organization already has an ingress controller set up, you can use it and skip this step. Please
note that you will need to provide your ingress controller's details in later steps.</p>
</div>
<h4 id="set-up-ingress-controller">Set Up Ingress Controller</h4>
<p>Aurelius Atlas recommends using an <a href="https://kubernetes.github.io/ingress-nginx/">NGINX ingress controller</a>. To
install the ingress controller, follow the steps below:</p>
<div class="tabbed-set" data-tabs="3:4"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">Kubernetes Cluster</label><div class="tabbed-content">
<p>To install the NGINX ingress controller on a Kubernetes cluster, run the following commands:</p>
<pre class="highlight"><code class="language-bash">helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
helm repo update
helm install nginx-ingress ingress-nginx/ingress-nginx \
    --set controller.publishService.enabled=true</code></pre>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><label for="__tabbed_3_2">Azure</label><div class="tabbed-content">
<p>To install the NGINX ingress controller on Azure, run the following commands:</p>
<pre class="highlight"><code class="language-bash">helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
helm repo update
helm install nginx-ingress ingress-nginx/ingress-nginx \
    --set controller.publishService.enabled=true \
    --set controller.service.annotations."service\.beta\.kubernetes\.io/azure-load-balancer-health-probe-request-path"=/healthz \
    --set controller.service.annotations."service\.beta\.kubernetes\.io/azure-dns-label-name"=&lt;label&gt;</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Replace <code>&lt;label&gt;</code> with a DNS label name for the Azure Load Balancer. This label name should be unique within
the Azure region.</p>
<p>For example, if you use the label <code>aurelius-atlas</code>, the Load Balancer's DNS name will be <code>aurelius-atlas.&lt;region&gt;.cloudapp.azure.com</code>.</p>
</div>
</div>
<input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><label for="__tabbed_3_3">Google Cloud</label><div class="tabbed-content">
<p>To install the NGINX ingress controller on Google Cloud, run the following commands:</p>
<pre class="highlight"><code class="language-bash">helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
helm repo update
helm install nginx-ingress ingress-nginx/ingress-nginx \
    --set controller.publishService.enabled=true</code></pre>
</div>
<input id="__tabbed_3_4" name="__tabbed_3" type="radio" /><label for="__tabbed_3_4">Docker Compose</label><div class="tabbed-content">
<p>You can skip this step when making a local deployment.</p>
</div>
</div>
<h4 id="set-up-certificate">Set Up Certificate</h4>
<p>Next, you need to set up a certificate for the ingress controller. To do this, follow the steps below:</p>
<ol>
<li>Uncomment the content of the <code>templates/certificate.yaml</code> file in the Helm chart.</li>
<li>Update <code>{{ .Values.ingress.dns_url }}</code> in the <code>values.yaml</code> file with your DNS name.</li>
</ol>
<p>Next, run the following command to install the certificate:</p>
<pre class="highlight"><code class="language-bash">helm template -s templates/certificate.yaml . | kubectl apply -f -</code></pre>
<p>This sets up the certificate for the ingress controller. To verify that the certificate is set up correctly, run
the following command:</p>
<pre class="highlight"><code class="language-bash">kubectl get certificate -n cert-manager</code></pre>
<p>You should see the certificate in the list of certificates with a status of <code>Ready</code>.</p>
<pre class="highlight"><code class="language-plaintext">NAME                          READY   AGE
aurelius-atlas-ingress-cert   True    24h</code></pre>
<h4 id="set-up-dns">Set up DNS</h4>
<p>If you are deploying Aurelius Atlas on a cloud provider, but want to use your own domain name, you can set up
a DNS record to point to the Load Balancer's IP address. To find the IP address of the Load Balancer, run the
following command:</p>
<pre class="highlight"><code class="language-bash">kubectl get service -n ingress-nginx</code></pre>
<p>The output will show the external IP address of the Load Balancer.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Give this IP address to your network administrator and ask them to create a DNS record for your domain.</p>
</div>
<h3 id="elastic-cloud">Elastic Cloud</h3>
<p>Aurelius Atlas uses <a href="https://www.elastic.co/guide/en/cloud-on-k8s/current/index.html">Elastic Cloud on Kubernetes (ECK)</a>
to manage its internal Elasticsearch cluster. To set up ECK, run the following commands:</p>
<pre class="highlight"><code class="language-bash">kubectl create -f https://download.elastic.co/downloads/eck/2.13.0/crds.yaml
kubectl apply -f https://download.elastic.co/downloads/eck/2.13.0/operator.yaml</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please use a version of ECK that is compatible with your Kubernetes cluster. The ECK docs provide a list
of supported versions <a href="https://www.elastic.co/guide/en/cloud-on-k8s/current/k8s_supported_versions.html">here</a>.</p>
</div>
<h3 id="zookeeper">Zookeeper</h3>
<p>Aurelius Atlas internally relies on Zookeeper. Please ensure that the Zookeeper dependencies are updated by
running the following commands:</p>
<pre class="highlight"><code class="language-bash">cd charts/zookeeper/
helm dependency update</code></pre>
<h2 id="deploying-aurelius-atlas">Deploying Aurelius Atlas</h2>
<p>Once you have set up the prerequisites and configured the necessary components, you are ready to deploy Aurelius
Atlas.</p>
<h3 id="configure-values">Configure Values</h3>
<p>Before deploying Aurelius Atlas, you need to configure the values in the <code>values.yaml</code> file. The <code>values.yaml</code>
file contains the configuration settings for Aurelius Atlas.</p>
<p>The following are the key configuration settings that you need to update:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{ .Values.global.external_hostname }}</code></td>
<td>Set this to your DNS name.</td>
</tr>
<tr>
<td><code>{{ .Values.keycloak.keycloakFrontendURL }}</code></td>
<td>Set this to your DNS name.</td>
</tr>
<tr>
<td><code>{{ .Values.post_install.upload_data }}</code></td>
<td>Set this to <code>true</code> to upload sample data.</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Aurelius Atlas ships with sample data that you can us to explore the platform. To load the sample data,
set <code>{{ .Values.post_install.upload_data }}</code> to <code>true</code>.</p>
</div>
<h3 id="deploy-helm-chart">Deploy Helm Chart</h3>
<p>To deploy Aurelius Atlas using the Helm chart, run the following commands:</p>
<pre class="highlight"><code class="language-bash">helm dependency update
helm install --generate-name -n &lt;namespace&gt; -f values.yaml --wait --timeout 15m0s .</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Replace <code>&lt;namespace&gt;</code> with the namespace where you want to deploy Aurelius Atlas.</p>
</div>
<h3 id="accessing-aurelius-atlas">Accessing Aurelius Atlas</h3>
<p>Once the deployment is complete, you can access Aurelius Atlas using the DNS name you configured earlier. To
access the platform, open a web browser and navigate to <code>https://&lt;dns-name&gt;/&lt;namespace&gt;/atlas/</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Replace <code>&lt;dns-name&gt;</code> with the DNS name you configured earlier, and <code>&lt;namespace&gt;</code> with the namespace where
you deployed Aurelius Atlas.</p>
</div>
<h4 id="default-credentials">Default Credentials</h4>
<p>By default, the following users are created:</p>
<table>
<thead>
<tr>
<th>User Type</th>
<th>Username</th>
<th>Default Password (docker-compose)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Aurelius Atlas Admin</td>
<td><code>atlas</code></td>
<td><code>atlas</code></td>
</tr>
<tr>
<td>Elasticsearch Admin</td>
<td><code>elastic</code></td>
<td><code>elasticpw</code></td>
</tr>
<tr>
<td>Keycloak Admin</td>
<td><code>admin</code></td>
<td><code>admin</code></td>
</tr>
<tr>
<td>Aurelius Atlas Data Steward (demo only)</td>
<td><code>steward</code></td>
<td>-</td>
</tr>
<tr>
<td>Aurelius Atlas Data Scientist (demo only)</td>
<td><code>scientist</code></td>
<td>-</td>
</tr>
</tbody>
</table>
<p>For production deployments, the passwords for each user are randomized and stored in a Kubernetes secret. The
helm chart includes a script to retrieve the passwords for each user. To retrieve the passwords, run the following
command:</p>
<pre class="highlight"><code class="language-bash">./get_passwords.sh &lt;namespace&gt;</code></pre>
<p>This script will print the passwords for each user to the console.</p>
<h2 id="identity-access-management">Identity &amp; Access Management</h2>
<h3 id="integrating-azure-active-directory-with-keycloak">Integrating Azure Active Directory with Keycloak</h3>
<p>Active Directory login is not enabled by default. To enable it in Aurelius Atlas, follow these steps:</p>
<ul>
<li>
<p>Register an application in Azure Active Directory. For more details, follow this guide: <a href="https://medium.com/@andremoriya/keycloak-azure-active-directory-integration-14002c699566">Azure AD integration</a>.</p>
</li>
<li>
<p>Update the <code>values.yaml</code> file</p>
<p>Update the <code>values.yaml</code> file in the base folder to load a different Keycloak configuration.
Set the <code>{{ .Values.keycloak.realm_file_name }}</code> key to <code>realm_m4i_with_provider.json</code>.</p>
</li>
<li>
<p>Customize the realm configuration</p>
<p>Update the realm configuration file (<code>charts/keycloak/realms/realm_m4i_with_provider.json</code>) by entering
your credentials:</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{ .identityProviders.config.clientId }}</code></td>
<td>The client ID of the identity provider.</td>
</tr>
<tr>
<td><code>{{ .identityProviders.config.clientSecret }}</code></td>
<td>The client secret of the identity provider</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In addition to Azure Active Directory, social login is also supported through OAuth 2.0 clients, including
<a href="https://keycloakthemes.com/blog/how-to-setup-sign-in-with-google-using-keycloak">Google</a>,
<a href="https://medium.com/keycloak/github-as-identity-provider-in-keyclaok-dca95a9d80ca">GitHub</a> or
<a href="https://medium.com/@didelotkev/facebook-as-identity-provider-in-keycloak-cf298b47cb84">Facebook</a>.
For a complete list of supported identity providers, refer to the <a href="https://www.keycloak.org/">keycloak website</a>.
These applications can be configured as identity providers in Keycloak.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If the deployment is already running, you can enable the identity provider directly through the Keycloak UI.</p>
</div>
<p><strong>To enable active directory login on the keycloak UI:</strong></p>
<ul>
<li>Navigate to the Keycloak administration console.</li>
<li>Click "Identity providers" in the menu, then choose the desired provider from the dropdown menu.</li>
<li>Set the Client ID and Client Secret. The rest of the settings can remain default.</li>
</ul>
<h3 id="managing-users">Managing Users</h3>
<p>In <strong>Aurelius Atlas</strong>, you have the flexibility to control user access through role-based permissions.
Users can either have <strong>read-only</strong> access or <strong>read/edit</strong> permissions, depending on their role within
the system. By default, all users are assigned the <strong>viewing</strong> role, but administrators
can manage and modify roles as needed.</p>
<ul>
<li><strong>Viewing Role (Default):</strong> Users with this role can <strong>view</strong> data but cannot make any changes.</li>
<li><strong>Editing Role:</strong> Users with this role have permission to <strong>edit</strong> data and perform updates.</li>
</ul>
<h3 id="user-access">User Access</h3>
<p>Anybody with a company login can access Aurelius Atlas, when <strong>active directory login</strong> is enabled, provided
that they have the user roles assigned. (See section <a href="#managing-roles-in-keycloak-ui">User Roles and Permissions</a>)</p>
<p>For administrators who need more control over user registration, it’s also possible to manually create users
directly within the Keycloak UI. For more information please visit the
official <a href="https://www.keycloak.org/docs/latest/server_admin/#assembly-managing-users_server_administration_guide">Keycloak documentation</a>.</p>
<h3 id="managing-roles-in-keycloak-ui">Managing Roles in Keycloak UI</h3>
<p>For organizations using Azure Active Directory (AAD) role assignments can be
managed centrally in AAD, making it easier to maintain consistent user and role configurations across the
organization.</p>
<p>Administrators can also manage user roles through the <strong>Keycloak Admin UI</strong>.</p>
<ol>
<li>In the Keycloak Admin Console, navigate to the <strong>Users</strong> section.</li>
<li>Select the desired user and go to the <strong>Role Mappings</strong> tab.</li>
<li>Assign <code>DATA_STEWARD</code> to grant the user editing rights, or remove roles to make it a read-only user.</li>
</ol>
<h3 id="user-roles-and-permissions">User Roles and Permissions</h3>
<table>
<thead>
<tr>
<th>Role Name</th>
<th>Permissions</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>ROLE_ADMIN</td>
<td>Edit, View, Delete</td>
<td>Admin role with high privileges</td>
</tr>
<tr>
<td>DATA_STEWARD</td>
<td>Edit, View</td>
<td>Data stewardship role</td>
</tr>
<tr>
<td>DATA_SCIENTIST</td>
<td>View</td>
<td>Role for data scientists</td>
</tr>
</tbody>
</table>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../user-stories/" class="btn btn-neutral float-left" title="User Stories"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../architecture/" class="btn btn-neutral float-right" title="Architecture">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../user-stories/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../architecture/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
